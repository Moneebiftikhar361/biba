let timeElem=document.querySelector("#time");let mornEvenElem=document.querySelector("#mornEven");let dayElem=document.querySelector("#day");let formatElem=document.querySelector("#format");let is24Format=false;let daysArr=["Monday","Tuesday","Wednesday","Thrusday","Friday","Saturday","Sunday"];let alarmHour=null;let alarmMint=null;let alarmMornEven=null;let alarmTone=new Audio("./tone.mp3");function now(){let dateTime=new Date(); let hour=dateTime.getHours() , mint=dateTime.getMinutes(), sec=dateTime.getSeconds(); /* set mornEven */if(hour===24 || hour<=11){mornEvenElem.innerHTML=" AM"}else{mornEvenElem.innerHTML=" PM"}/* alarm sound */ if(alarmHour && alarmMint && alarmMornEven){if(alarmMornEven=="AM"){if(alarmHour==hour && alarmMint==mint){alarmTone.play(); alarmTone.loop=true; alarmHour=null; alarmMint=null; alarmMornEven=null; stopAlarm();}}else{if((parseInt(alarmHour)+12)==hour && alarmMint==mint){alarmTone.play(); alarmTone.loop=true; alarmHour=null; alarmMint=null; alarmMornEven=null; stopAlarm();}}}/* set time */ if(is24Format){timeElem.innerHTML=`${setTimeDigits(hour)}:${setTimeDigits(mint)}:${setTimeDigits(sec)}`;}else{(hour > 12) ? hour -=12 : null; timeElem.innerHTML=`${setTimeDigits(hour)}:${setTimeDigits(mint)}:${setTimeDigits(sec)}`;}/* set day */ let day=dateTime.getDay(); dayElem.innerHTML=daysArr[day - 1];}function ChangeFormat(){is24Format=!is24Format; if(is24Format){formatElem.innerHTML="12 Format"}else{formatElem.innerHTML="24 Format"}}function setTimeDigits(unit){(unit < 10) ? unit=`0${unit}` : null; return unit;}setInterval(now,1);/* alarm setting */let setAlarmElem=document.querySelector("#setAlarm");let alarmHourElem=document.querySelector("#alarmHour");let alarmMintElem=document.querySelector("#alarmMint");let alarmMornEvenElem=document.querySelector("#alarmMornEven");let oldAlarmTimeElem=document.querySelector("#oldAlarmTime");let isSetAlarmOverlayDisplay=false;function alarmSetter(event){if(event){event.preventDefault(); alarmHour=alarmHourElem.value; alarmMint=alarmMintElem.value; alarmMornEven=alarmMornEvenElem.value; oldAlarmTimeElem.innerHTML=`${alarmHour}:${alarmMint}${alarmMornEven}`}if(!isSetAlarmOverlayDisplay){setAlarmElem.classList.toggle("flex"); setAlarmElem.classList.toggle("animate"); isSetAlarmOverlayDisplay=!isSetAlarmOverlayDisplay;}else{setAlarmElem.classList.toggle("animate"); setTimeout(animationCompleter, 500); isSetAlarmOverlayDisplay=!isSetAlarmOverlayDisplay;}}function animationCompleter(){setAlarmElem.classList.toggle("flex");}/* stop alarm */let stopAlarmElem=document.querySelector("#stopAlarm");let isStopAlarmOverlayDisplay=false;function stopAlarm(){if(!isStopAlarmOverlayDisplay){stopAlarmElem.classList.toggle("flex"); stopAlarmElem.classList.toggle("animate"); isStopAlarmOverlayDisplay=!isStopAlarmOverlayDisplay;}else{stopAlarmElem.classList.toggle("animate"); setTimeout(animationCompleterStop, 500) ;isStopAlarmOverlayDisplay=!isStopAlarmOverlayDisplay; alarmTone.pause();}}function animationCompleterStop(){stopAlarmElem.classList.toggle("flex");}